# AdvisorAI Deployment Guide

## üöÄ Deploy to Render (Recommended)

### Step 1: Fork the Repository
1. Go to https://github.com/gns-x/AdvisorAI
2. Click "Fork" to create your own copy

### Step 2: Connect to Render
1. Go to https://render.com
2. Sign up/Login with your GitHub account
3. Click "New +" and select "Blueprint"
4. Connect your forked repository
5. Render will automatically detect the `render.yaml` configuration

### Step 3: Configure Environment Variables
In the Render dashboard, set these environment variables:

#### Required Variables:
- `OPENAI_API_KEY` - Your OpenAI API key
- `GOOGLE_CLIENT_ID` - Google OAuth client ID
- `GOOGLE_CLIENT_SECRET` - Google OAuth client secret

#### Optional Variables:
- `PHX_HOST` - Your app domain (auto-set by Render)
- `SECRET_KEY_BASE` - Auto-generated by Render

### Step 4: Deploy
1. Click "Create Blueprint Instance"
2. Render will automatically:
   - Create a PostgreSQL database
   - Deploy the main Phoenix app
   - Deploy the embedding server
   - Set up all connections

### Step 5: Configure Google OAuth
1. Go to Google Cloud Console
2. Add your Render domain to authorized redirect URIs:
   - `https://your-app-name.onrender.com/auth/google/callback`
3. Add test users if needed

## üîß Manual Deployment

### Using Docker:
```bash
docker-compose up -d
```

### Using Fly.io:
```bash
fly deploy
```

## üìã Environment Variables

Create a `.env` file for local development:

```bash
# OpenAI API
OPENAI_API_KEY=your_openai_api_key_here

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Database
DATABASE_URL=postgresql://user:pass@localhost/advisor_ai_dev

# App
SECRET_KEY_BASE=your_secret_key_base
PHX_HOST=localhost
```

## üè• Health Checks

The app includes health check endpoints:
- Main app: `https://your-app.onrender.com/health`
- Embedding server: `https://your-embedding-server.onrender.com/health`

## üìä Monitoring

- Check Render dashboard for logs and metrics
- Monitor database connections and performance
- Watch for any OAuth or API errors

## üîí Security

- All API keys are encrypted in Render
- Database connections use SSL
- OAuth tokens are securely stored
- No sensitive data in logs

## üö® Troubleshooting

### Common Issues:
1. **OAuth errors**: Check redirect URIs in Google Console
2. **Database connection**: Verify DATABASE_URL in Render
3. **API errors**: Check OpenAI API key and quota
4. **Build failures**: Check Elixir/Node.js versions

### Support:
- Check Render logs for detailed error messages
- Review the application logs in the Phoenix dashboard
- Verify all environment variables are set correctly 